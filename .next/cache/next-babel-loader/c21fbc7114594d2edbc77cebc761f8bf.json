{"ast":null,"code":"import { makeSchema, queryType, objectType, mutationType } from \"@nexus/schema\";\nimport { nexusSchemaPrisma } from \"nexus-plugin-prisma/schema\";\nimport path from \"path\";\nconst Company = objectType({\n  name: \"Company\",\n\n  definition(t) {\n    t.model.id();\n    t.model.symbol();\n    t.model.name();\n    t.model.description();\n  }\n\n});\nconst Query = queryType({\n  definition(t) {\n    t.crud.company({\n      resolve: (_root, args, ctx) => {\n        return ctx.prisma.company.findOne({\n          where: {\n            id: args.where.id\n          }\n        });\n      }\n    });\n    t.crud.companies({\n      pagination: true,\n      filtering: true\n    }); // t.field(\"company\", {\n    //   type: Company,\n    //   nullable: true,\n    //   args: {\n    //     id: idArg(),\n    //   },\n    //   resolve: (_root, { id }, ctx) => {\n    //     return ctx.prisma.company.findOne({ where: { id: Number(id) } });\n    //   },\n    // });\n  }\n\n});\nconst Mutation = mutationType({\n  definition(t) {\n    t.crud.createOneCompany();\n  }\n\n});\nexport const schema = makeSchema({\n  types: {\n    Query,\n    Company,\n    Mutation\n  },\n  plugins: [nexusSchemaPrisma({\n    experimentalCRUD: true\n  })],\n  outputs: {\n    schema: path.join(process.cwd(), \"schema.graphql\"),\n    typegen: path.join(process.cwd(), \"nexus.ts\")\n  },\n  typegenAutoConfig: {\n    contextType: \"Context.Context\",\n    sources: [{\n      source: \"@prisma/client\",\n      alias: \"prisma\"\n    }, {\n      source: require.resolve(\"./context\"),\n      alias: \"Context\"\n    }]\n  }\n});","map":{"version":3,"sources":["/Users/sebastianhiguita/Desktop/react/nextjs-prisma-nexus-schema/src/schema.ts"],"names":["makeSchema","queryType","objectType","mutationType","nexusSchemaPrisma","path","Company","name","definition","t","model","id","symbol","description","Query","crud","company","resolve","_root","args","ctx","prisma","findOne","where","companies","pagination","filtering","Mutation","createOneCompany","schema","types","plugins","experimentalCRUD","outputs","join","process","cwd","typegen","typegenAutoConfig","contextType","sources","source","alias","require"],"mappings":"AAAA,SACEA,UADF,EAEEC,SAFF,EAGEC,UAHF,EAKEC,YALF,QAMO,eANP;AAOA,SAASC,iBAAT,QAAkC,4BAAlC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,MAAMC,OAAO,GAAGJ,UAAU,CAAC;AACzBK,EAAAA,IAAI,EAAE,SADmB;;AAEzBC,EAAAA,UAAU,CAACC,CAAD,EAAI;AACZA,IAAAA,CAAC,CAACC,KAAF,CAAQC,EAAR;AACAF,IAAAA,CAAC,CAACC,KAAF,CAAQE,MAAR;AACAH,IAAAA,CAAC,CAACC,KAAF,CAAQH,IAAR;AACAE,IAAAA,CAAC,CAACC,KAAF,CAAQG,WAAR;AACD;;AAPwB,CAAD,CAA1B;AAUA,MAAMC,KAAK,GAAGb,SAAS,CAAC;AACtBO,EAAAA,UAAU,CAACC,CAAD,EAAI;AACZA,IAAAA,CAAC,CAACM,IAAF,CAAOC,OAAP,CAAe;AACbC,MAAAA,OAAO,EAAE,CAACC,KAAD,EAAQC,IAAR,EAAcC,GAAd,KAAsB;AAC7B,eAAOA,GAAG,CAACC,MAAJ,CAAWL,OAAX,CAAmBM,OAAnB,CAA2B;AAAEC,UAAAA,KAAK,EAAE;AAAEZ,YAAAA,EAAE,EAAEQ,IAAI,CAACI,KAAL,CAAWZ;AAAjB;AAAT,SAA3B,CAAP;AACD;AAHY,KAAf;AAMAF,IAAAA,CAAC,CAACM,IAAF,CAAOS,SAAP,CAAiB;AAAEC,MAAAA,UAAU,EAAE,IAAd;AAAoBC,MAAAA,SAAS,EAAE;AAA/B,KAAjB,EAPY,CAQZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAnBqB,CAAD,CAAvB;AAsBA,MAAMC,QAAQ,GAAGxB,YAAY,CAAC;AAC5BK,EAAAA,UAAU,CAACC,CAAD,EAAI;AACZA,IAAAA,CAAC,CAACM,IAAF,CAAOa,gBAAP;AACD;;AAH2B,CAAD,CAA7B;AAMA,OAAO,MAAMC,MAAM,GAAG7B,UAAU,CAAC;AAC/B8B,EAAAA,KAAK,EAAE;AAAEhB,IAAAA,KAAF;AAASR,IAAAA,OAAT;AAAkBqB,IAAAA;AAAlB,GADwB;AAE/BI,EAAAA,OAAO,EAAE,CAAC3B,iBAAiB,CAAC;AAAE4B,IAAAA,gBAAgB,EAAE;AAApB,GAAD,CAAlB,CAFsB;AAG/BC,EAAAA,OAAO,EAAE;AACPJ,IAAAA,MAAM,EAAExB,IAAI,CAAC6B,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,gBAAzB,CADD;AAEPC,IAAAA,OAAO,EAAEhC,IAAI,CAAC6B,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,UAAzB;AAFF,GAHsB;AAO/BE,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,WAAW,EAAE,iBADI;AAEjBC,IAAAA,OAAO,EAAE,CACP;AACEC,MAAAA,MAAM,EAAE,gBADV;AAEEC,MAAAA,KAAK,EAAE;AAFT,KADO,EAKP;AACED,MAAAA,MAAM,EAAEE,OAAO,CAAC1B,OAAR,CAAgB,WAAhB,CADV;AAEEyB,MAAAA,KAAK,EAAE;AAFT,KALO;AAFQ;AAPY,CAAD,CAAzB","sourcesContent":["import {\n  makeSchema,\n  queryType,\n  objectType,\n  idArg,\n  mutationType,\n} from \"@nexus/schema\";\nimport { nexusSchemaPrisma } from \"nexus-plugin-prisma/schema\";\nimport path from \"path\";\n\nconst Company = objectType({\n  name: \"Company\",\n  definition(t) {\n    t.model.id();\n    t.model.symbol();\n    t.model.name();\n    t.model.description();\n  },\n});\n\nconst Query = queryType({\n  definition(t) {\n    t.crud.company({\n      resolve: (_root, args, ctx) => {\n        return ctx.prisma.company.findOne({ where: { id: args.where.id } });\n      },\n    });\n    \n    t.crud.companies({ pagination: true, filtering: true });\n    // t.field(\"company\", {\n    //   type: Company,\n    //   nullable: true,\n    //   args: {\n    //     id: idArg(),\n    //   },\n    //   resolve: (_root, { id }, ctx) => {\n    //     return ctx.prisma.company.findOne({ where: { id: Number(id) } });\n    //   },\n    // });\n  },\n});\n\nconst Mutation = mutationType({\n  definition(t) {\n    t.crud.createOneCompany();\n  },\n});\n\nexport const schema = makeSchema({\n  types: { Query, Company, Mutation },\n  plugins: [nexusSchemaPrisma({ experimentalCRUD: true })],\n  outputs: {\n    schema: path.join(process.cwd(), \"schema.graphql\"),\n    typegen: path.join(process.cwd(), \"nexus.ts\"),\n  },\n  typegenAutoConfig: {\n    contextType: \"Context.Context\",\n    sources: [\n      {\n        source: \"@prisma/client\",\n        alias: \"prisma\",\n      },\n      {\n        source: require.resolve(\"./context\"),\n        alias: \"Context\",\n      },\n    ],\n  },\n});\n"]},"metadata":{},"sourceType":"module"}